---
title: "Python SDK"
description: "Python client library for the Predexon API"
---

## Installation

The Predexon Python SDK will be available on PyPI soon. For now, you can use the API directly with `requests`:

```bash
pip install requests
```

## Quick Start

```python
import requests
from typing import Optional, List, Dict, Any

class PredexonClient:
    """Simple Python client for the Predexon API."""

    BASE_URL = "https://predexon-data-service-8970529761.us-central1.run.app"

    def __init__(self, base_url: Optional[str] = None):
        self.base_url = base_url or self.BASE_URL
        self.session = requests.Session()

    def _get(self, endpoint: str, params: Optional[Dict] = None) -> Dict[str, Any]:
        """Make a GET request to the API."""
        response = self.session.get(
            f"{self.base_url}{endpoint}",
            params=params
        )
        response.raise_for_status()
        return response.json()

    # Markets
    def get_markets(
        self,
        status: Optional[str] = None,
        sort: str = "volume",
        limit: int = 20,
        offset: int = 0,
        **filters
    ) -> Dict[str, Any]:
        """Get markets with optional filtering."""
        params = {"sort": sort, "limit": limit, "offset": offset, **filters}
        if status:
            params["status"] = status
        return self._get("/v1/polymarket/markets", params)

    def get_candlesticks(
        self,
        condition_id: str,
        interval: int = 60,
        start_time: Optional[int] = None,
        end_time: Optional[int] = None
    ) -> Dict[str, Any]:
        """Get candlestick data for a market."""
        params = {"interval": interval}
        if start_time:
            params["start_time"] = start_time
        if end_time:
            params["end_time"] = end_time
        return self._get(f"/v1/polymarket/candlesticks/{condition_id}", params)

    def get_market_price(
        self,
        token_id: str,
        at_time: Optional[int] = None
    ) -> Dict[str, Any]:
        """Get current or historical price for a token."""
        params = {}
        if at_time:
            params["at_time"] = at_time
        return self._get(f"/v1/polymarket/market-price/{token_id}", params)

    # Wallet
    def get_positions(
        self,
        wallet_address: str,
        sort_by: str = "value",
        limit: int = 100,
        **filters
    ) -> Dict[str, Any]:
        """Get positions for a wallet."""
        params = {"sort_by": sort_by, "limit": limit, **filters}
        return self._get(f"/v1/polymarket/wallet/positions/{wallet_address}", params)

    def get_pnl(
        self,
        wallet_address: str,
        granularity: str = "day",
        start_time: Optional[int] = None,
        end_time: Optional[int] = None
    ) -> Dict[str, Any]:
        """Get P&L time series for a wallet."""
        params = {"granularity": granularity}
        if start_time:
            params["start_time"] = start_time
        if end_time:
            params["end_time"] = end_time
        return self._get(f"/v1/polymarket/wallet/pnl/{wallet_address}", params)

    # Matching
    def find_matches(
        self,
        polymarket_slug: Optional[str] = None,
        kalshi_ticker: Optional[str] = None
    ) -> Dict[str, Any]:
        """Find matching markets across platforms."""
        params = {}
        if polymarket_slug:
            params["polymarket_market_slug"] = polymarket_slug
        if kalshi_ticker:
            params["kalshi_market_ticker"] = kalshi_ticker
        return self._get("/v1/matching-markets", params)
```

## Usage Examples

### Get Top Markets

```python
client = PredexonClient()

# Get top 10 open markets by volume
markets = client.get_markets(status="open", limit=10)

for market in markets["markets"]:
    yes_price = market["outcomes"][0]["price"]
    print(f"{market['title']}")
    print(f"  Yes: {yes_price:.0%}, Volume: ${market['total_volume_usd']:,.0f}")
```

### Track a Wallet

```python
wallet = "0x1234567890abcdef..."

# Get positions
positions = client.get_positions(wallet, sort_by="unrealized_pnl")

print(f"Total Value: ${positions['summary']['total_value_usd']:,.2f}")
print(f"Unrealized P&L: ${positions['summary']['total_unrealized_pnl_usd']:,.2f}")

# Get P&L history
pnl = client.get_pnl(wallet, granularity="week")

for point in pnl["pnl_over_time"]:
    from datetime import datetime
    date = datetime.fromtimestamp(point["timestamp"])
    print(f"{date.date()}: ${point['pnl_to_date']:,.2f}")
```

### Find Arbitrage Opportunities

```python
# Get top markets
markets = client.get_markets(status="open", limit=50)

for market in markets["markets"]:
    # Find Kalshi matches
    matches = client.find_matches(polymarket_slug=market["market_slug"])

    if matches["summary"]["exact_matches"] > 0:
        pm_price = market["outcomes"][0]["price"]
        print(f"\n{market['title']}")
        print(f"  Polymarket: {pm_price:.0%}")

        for match in matches["matches"]["KALSHI"]["exact"]:
            print(f"  Kalshi: {match['market_ticker']}")
```

## Error Handling

```python
from requests.exceptions import HTTPError

try:
    data = client.get_markets(status="invalid")
except HTTPError as e:
    if e.response.status_code == 400:
        error = e.response.json()
        print(f"Bad Request: {error['message']}")
    elif e.response.status_code == 429:
        print("Rate limited - implement backoff")
    else:
        raise
```

## Async Support

For async applications, use `httpx`:

```python
import httpx
import asyncio

async def get_markets_async():
    async with httpx.AsyncClient() as client:
        response = await client.get(
            "https://predexon-data-service-8970529761.us-central1.run.app/v1/polymarket/markets",
            params={"status": "open", "limit": 10}
        )
        return response.json()

# Run
markets = asyncio.run(get_markets_async())
```

## Coming Soon

A full-featured Python SDK with:
- Type hints and Pydantic models
- Automatic pagination
- Rate limiting
- Async support
- Caching

<Card title="Join the Waitlist" icon="envelope" href="https://predexon.com/waitlist">
  Be notified when the SDK is released
</Card>
