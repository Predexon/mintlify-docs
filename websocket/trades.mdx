---
title: "Trade Alerts"
description: "Real-time trade message format and fields"
---

## Message Format

When a trade matches your subscription, you receive a message with `type: "event"`:

```json
{
  "type": "event",
  "subscription_id": "sub_...",
  "data": {
    "token_id": "...",
    "token_label": "Yes",
    "side": "BUY",
    "market_slug": "btc-updown-15m-...",
    "condition_id": "0x...",
    "shares": 10000000,
    "shares_normalized": 10,
    "price": 0.51,
    "tx_hash": "0x...",
    "log_index": "0x1e5",
    "title": "Bitcoin Up or Down - ...",
    "timestamp": 1770096482,
    "order_hash": "0x...",
    "user": "0x...",
    "taker": "0x...",
    "outcome": "Up",
    "market_id": "1317397",
    "image": "https://...",
    "fee": 0.392156
  }
}
```

## Field Reference

### Identifiers

| Field | Type | Description |
|-------|------|-------------|
| `subscription_id` | string | Which subscription matched this trade |
| `token_id` | string | Token ID for the outcome |
| `condition_id` | string \| null | Market condition ID |
| `market_slug` | string | URL-friendly market identifier |
| `market_id` | string | Numeric market ID |
| `order_hash` | string \| null | Unique order identifier |
| `tx_hash` | string | Transaction hash |
| `log_index` | string | Log index within the transaction |

### Trade Details

| Field | Type | Description |
|-------|------|-------------|
| `side` | string | Trade direction: `"BUY"` or `"SELL"` |
| `shares` | number | Raw shares (on-chain precision) |
| `shares_normalized` | number | Shares normalized for display |
| `price` | number | Price per share (0.00 - 1.00) |
| `fee` | number | Fee amount in USDC |
| `outcome` | string \| null | Outcome label (e.g., "Yes", "No", "Up") |
| `timestamp` | number | Unix timestamp |

### Participants

| Field | Type | Description |
|-------|------|-------------|
| `user` | string | Maker address (order placer) |
| `taker` | string | Taker address (order filler) |

### Metadata

| Field | Type | Description |
|-------|------|-------------|
| `token_label` | string \| null | Token label for the outcome |
| `title` | string \| null | Market question/title |
| `image` | string \| null | Market image URL |

## Example: Processing Trades

```javascript
ws.onmessage = (event) => {
  const msg = JSON.parse(event.data);

  if (msg.type === 'event') {
    const trade = msg.data;
    const value = trade.shares_normalized * trade.price;

    console.log(`${trade.side} ${trade.outcome} ${trade.shares_normalized} @ ${trade.price}`);
    console.log(`Market: ${trade.title}`);
    console.log(`Value: $${value.toFixed(2)}`);
    console.log(`Fee: $${trade.fee.toFixed(2)}`);
    console.log(`Maker: ${trade.user}`);
    console.log(`Taker: ${trade.taker}`);
  }
};
```

## Filtering by Subscription

If you have multiple subscriptions, use `subscription_id` to determine which filter matched:

```javascript
const subscriptions = {
  'sub_abc123def456': 'whale-tracker',
  'sub_789012345678': 'btc-markets'
};

ws.onmessage = (event) => {
  const msg = JSON.parse(event.data);

  if (msg.type === 'event') {
    const source = subscriptions[msg.subscription_id];
    console.log(`[${source}]`, msg.data.title, msg.data.price);
  }
};
```
